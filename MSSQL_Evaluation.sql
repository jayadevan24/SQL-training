create database sqleval;
use sqleval
CREATE TABLE CATEGORY(CATNAME VARCHAR(20),CATID INT PRIMARY KEY);

CREATE TABLE SIZE(SIZENAME VARCHAR(3),SIZEID INT PRIMARY KEY);

CREATE TABLE ITEMS(CATEGORY INT FOREIGN KEY REFERENCES CATEGORY(CATID),
                    NAME VARCHAR(30),
					STYLE VARCHAR(30),
					GENDER VARCHAR(2),
					SIZE INT FOREIGN KEY REFERENCES SIZE(SIZEID),
					PRICE DECIMAL,
					TOTAL_PRICE AS (0.28*PRICE + PRICE));

INSERT INTO CATEGORY VALUES('FORMAL',1),
                            ('CASUAL',2),
							('SEMI-CASUAL',3);

SELECT * FROM CATEGORY;

INSERT INTO SIZE VALUES ('XS',98),
                        ('S',99),
						('M',100),
						('L',101),
						('XL',102),
						('XXL',103);
SELECT * FROM SIZE;

INSERT INTO ITEMS  (CATEGORY,NAME,STYLE,GENDER,SIZE,PRICE) VALUES (1,'PLAIN SHIRT','SLIM FIT','M',100,1000),
                                                                  (1,'CHECK SHIRT','REGULAR','M',101,1000), 
																  (1,'STRIPE SHIRT','STRAIGHT','F',98,1300),
																  (2,'FLORAL SHIRT','SLIM FIT','M',98,1000),
																  (2,'BLUEBERRY PARTY WEAR','LOOSE FIT','F',102,1200),
																  (2,'BAGGY JEANS','BAGGY','M',103,1400),
																  (3,'JEANS PANTS','STRAIGHT','F',99,1600),
																  (3,'CHINOS','CARROT FIT','M',101,1700),
																  (3,'COMIC TSHIRT','REGULAR','F',101,1900);
SELECT * FROM ITEMS;



SELECT MAX(TOTAL_PRICE) FROM ITEMS GROUP BY CATEGORY ;

SELECT MAX(TOTAL_PRICE) AS 'MAX PRICE IN EACH CATEGORY',CATEGORY FROM ITEMS GROUP BY CATEGORY;

--1
SELECT MAX(TOTAL_PRICE) AS 'MAX PRICE IN EACH CATEGORY',CATEGORY.CATNAME
FROM ITEMS INNER JOIN CATEGORY ON ITEMS.CATEGORY=CATEGORY.CATID
GROUP BY CATEGORY,CATNAME;

--2
SELECT NAME,PRICE,TOTAL_PRICE FROM ITEMS WHERE CATEGORY=1 ORDER BY NAME ASC;

--3
SELECT * FROM ITEMS  INNER JOIN SIZE ON ITEMS.SIZE=SIZE.SIZEID WHERE SIZE.SIZENAME LIKE '%X%' ;


--4
SELECT AVG(TOTAL_PRICE) AS 'AVG PRICE IN EACH CATEGORY',CATEGORY.CATNAME
FROM ITEMS INNER JOIN CATEGORY ON ITEMS.CATEGORY=CATEGORY.CATID
GROUP BY CATEGORY,CATNAME;

--5
SELECT * FROM ITEMS WHERE CATEGORY=(SELECT CATEGORY FROM ITEMS WHERE NAME LIKE '%BLUEBERRY PARTY WEAR%');

--6
SELECT *,SIZE.SIZEID
FROM ITEMS INNER JOIN SIZE ON ITEMS.SIZE=SIZE.SIZEID
WHERE SIZENAME='%S%';

--7
SELECT MIN(TOTAL_PRICE) AS 'CHEAPEST ITEM IN EACH CATEGORY',CATEGORY.CATNAME
FROM ITEMS INNER JOIN CATEGORY ON ITEMS.CATEGORY=CATEGORY.CATID
GROUP BY CATEGORY,CATNAME;

--8
SELECT SUM(TOTAL_PRICE) AS 'TOTAL PRICE OF ALL INVENTORY' FROM ITEMS;


--9
SELECT NAME,CATEGORY.CATNAME FROM ITEMS  INNER JOIN CATEGORY ON ITEMS.CATEGORY=CATEGORY.CATID ORDER BY(ITEMS.NAME) DESC ;


